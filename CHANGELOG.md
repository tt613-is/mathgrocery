# Changelog

所有值得注意的项目更改都将记录在此文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)。

## [Unreleased]

暂无开发中的功能

## [0.2.0] - 2025-01-02

### 🎮 游戏玩法重构

**重大变更：从被动计算到主动交互**
- 玩家现在可以主动选择商品（点击货架）
- 添加购物车功能（可添加/移除商品）
- 分阶段游戏流程：选择商品 → 确认订单 → 计算找零
- 更接近真实收银场景

### Added
- ✨ 商品货架展示（网格布局，响应式）
- 🛒 购物车系统
  - 点击商品添加到购物车
  - 移除按钮可删除已选商品
  - 实时显示已选商品列表
- 🎯 游戏状态管理系统
  - 三阶段流程：selecting → checkout → result
  - 防止跨阶段误操作
- 💚 确认订单按钮（绿色，购物车非空时显示）
- 📱 更宽的布局（max-width: 900px）

### Changed
- 🎨 UI完全重构：从单列布局改为货架+购物车布局
- 🔄 游戏流程：从"系统生成订单"改为"玩家选择商品"
- 📦 商品数据添加ID字段用于标识
- 💰 苹果价格从 $1 调整为 $3

### Technical
- 状态机模式管理游戏阶段
- 购物车基于数组动态渲染
- UI分阶段显示/隐藏控制
- 代码完全重写，优化结构

## [0.1.1] - 2025-01-02

### Changed
- 💰 支持小数价格系统
  - 所有价格和计算支持小数点后2位
  - 使用 `toFixed(2)` 处理浮点数精度问题
  - 货币符号从 ¥ 改为 $
- 🛍️ 更新商品库为11种商品：
  - 苹果 🍎 $1
  - 甜甜圈A 🍩 $2
  - 甜甜圈B 🍩 $2.5
  - 甜甜圈C 🍩 $2.7
  - 肉 🥩 $56.3
  - 鱼 🐟 $56.3
  - 鸡腿 🍗 $56.3（新增）
  - Milk 🥛 $5
  - 薯片 🍟 $1.2
  - 橡皮 🧽 $3
  - 棒棒糖 🍭 $0.5

### Added
- ✨ 甜甜圈分为A/B/C三种型号，增加游戏多样性

### Technical
- 优化浮点数计算逻辑，确保精度正确
- 更新价格显示格式，统一保留两位小数

## [0.1.0] - 2025-01-02

### Added
- 🎮 核心游戏功能
  - 随机生成订单（2-3个商品）
  - 找零计算和判断
  - 对错反馈（表情显示）
  - "再来一单"功能
- 📦 固定商品库（6种商品）
- 🎨 简洁的卡片式UI设计
- 📱 响应式布局支持

### Technical
- 单文件HTML架构
- 纯JavaScript实现，无框架依赖
- 使用整数价格避免浮点数精度问题

---

**版本说明：**
- 版本号格式：主版本号.次版本号.修订号
- [Unreleased] - 开发中的功能
- [x.x.x] - 已发布的版本
