# Math Grocery - 数学杂货店游戏

## 🎮 项目简介

一个帮助练习心算的网页小游戏。玩家扮演杂货店老板，需要快速计算找零金额，提升数学计算能力。

**核心玩法：**
- 顾客购买商品
- 系统显示总价和支付金额
- 玩家计算并输入找零
- 系统判断对错并显示顾客反馈

## 🚀 快速开始

直接用浏览器打开 `index.html` 即可开始游戏。

## ✨ 当前功能（v0.1.0 MVP）

- [x] 固定商品库（6种商品，整数价格）
- [x] 随机生成订单（2-3个商品）
- [x] 自动计算总价
- [x] 顾客随机支付金额（总价+1~5元）
- [x] 玩家输入找零
- [x] 对错判断和表情反馈（😊/😡）
- [x] "再来一单"继续游戏

## 🛠 技术栈

- **纯 HTML/CSS/JavaScript** - 无框架依赖
- **单文件架构** - 所有代码在 index.html 中
- **响应式设计** - 适配移动端和桌面端

## 📝 开发决策记录

### 2025-01-02 - 项目初始化

**为什么选择单文件架构？**
- 便于部署：双击即可运行，无需服务器
- 降低复杂度：MVP阶段无需构建工具
- 易于分享：单个HTML文件即可传播

**为什么使用整数价格？**
- 避免JavaScript浮点数精度问题（0.1 + 0.2 !== 0.3）
- 简化MVP阶段的计算逻辑
- 后续可扩展为小数模式（困难模式）

**商品定价策略：**
- 价格范围：2-8元
- 确保有不同组合能凑出不同总价
- 顾客支付金额 = 总价 + 随机(1-5)元，保证有找零

## 🎯 代码结构

### 核心数据
```javascript
products = [
  { name: "口香糖", emoji: "🍬", price: 2 },
  { name: "薯片", emoji: "🍟", price: 5 },
  // ...
]
```

### 核心函数
- `generateOrder()` - 随机生成订单
- `displayOrder()` - 渲染订单界面
- `checkAnswer()` - 验证找零是否正确
- `nextRound()` - 开始下一轮游戏

## 🗺 后续迭代计划

### v0.2.0 - 游戏性增强
- [ ] 计分系统（连续答对次数）
- [ ] 倒计时功能（增加紧张感）
- [ ] 显示正确答案（答错时）

### v0.3.0 - 难度系统
- [ ] 简单模式：整数价格，2个商品
- [ ] 普通模式：整数价格，3-4个商品
- [ ] 困难模式：小数价格，4-5个商品

### v0.4.0 - 用户体验
- [ ] 本地存储最高分
- [ ] 动画效果优化
- [ ] 音效反馈

### 未来想法
- [ ] 多人对战模式
- [ ] 每日挑战
- [ ] 成就系统

## 🤖 AI 协作提示

**给 Claude 的上下文：**
- 这是一个单人开发的教育小游戏项目
- 所有代码在 `index.html` 中
- 文档策略：claude.md 替代 README（同时服务于用户和AI）
- Git 工作流：功能完成后统一提交

**开发原则：**
- MVP 优先，功能极简
- 代码清晰，注释完整
- 每次提交都更新文档

**当前待办事项：**
查看 todo list 了解当前任务进度

## 📚 参考资源

- [JavaScript 浮点数精度问题](https://0.30000000000000004.com/)
- [Keep a Changelog](https://keepachangelog.com/)

## 📄 许可

个人学习项目，欢迎参考和使用。
